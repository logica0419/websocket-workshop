import{d as m,c as u,F as v,r as h,o as i,t as y,a as f,w as S,v as N,b as O,e as l,R as B,f as F,g as A,h as d,i as C,p as $,j as w,k as g,l as I}from"./vendor.8dbf39ea.js";const L=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}};L();var _=(e,s)=>{const n=e.__vccOpts||e;for(const[r,t]of s)n[r]=t;return n};const M=m({props:{messages:{type:Array,required:!0}}}),R={class:"container"};function V(e,s,n,r,t,a){return i(),u("div",R,[(i(!0),u(v,null,h(e.messages,o=>(i(),u("p",{key:o,class:"message"},y(o),1))),128))])}var E=_(M,[["render",V],["__scopeId","data-v-c7edc86a"]]);const T=m({props:{withValue:{type:Boolean,default:!1},buttonName:{type:String,required:!0}},emits:{onSubmit:e=>e!==void 0},setup(e,{emit:s}){const n=f("");return{onSubmit:t=>{t.preventDefault(),s("onSubmit",n.value),n.value=""},value:n}}}),W=["value"];function D(e,s,n,r,t,a){return i(),u("form",{class:"container",onSubmit:s[1]||(s[1]=(...o)=>e.onSubmit&&e.onSubmit(...o))},[e.withValue?S((i(),u("input",{key:0,"onUpdate:modelValue":s[0]||(s[0]=o=>e.value=o),class:"text-box",type:"text"},null,512)),[[N,e.value]]):O("",!0),l("input",{class:"button",type:"submit",value:e.buttonName},null,8,W)],32)}var q=_(T,[["render",D],["__scopeId","data-v-a8033292"]]);const b=(e,s)=>{const n=new B(e);return n.onopen=()=>{alert("WebSocket\u306B\u63A5\u7D9A\u3057\u307E\u3057\u305F")},n.onmessage=s,n};const J=m({components:{MessageList:E,SubmitForm:q},setup(){const e=f([]),s=f("A"),n=["A","B","C"];let r=b((location.protocol==="https:"?"wss":"ws")+"://"+location.host+"/api/ws?room="+s.value,o=>{e.value.push(o.data)});return F(s,o=>{r.close(),r=b((location.protocol==="https:"?"wss":"ws")+"://"+location.host+"/api/ws?room="+o,c=>{e.value.push(c.data)})}),{messages:e,selectedRoom:s,rooms:n,onMessage:o=>{if(o){const c=JSON.stringify({method:"message",args:{message:o}});r.send(c)}},onTime:()=>{const o=JSON.stringify({method:"time"});r.send(o)}}}}),P=e=>($("data-v-aae3872e"),e=e(),w(),e),U={class:"container"},j=C(" Room: "),x=["value"],K=P(()=>l("br",null,null,-1));function z(e,s,n,r,t,a){const o=g("message-list"),c=g("submit-form");return i(),u(v,null,[l("div",U,[j,S(l("select",{"onUpdate:modelValue":s[0]||(s[0]=p=>e.selectedRoom=p),class:"menu"},[(i(!0),u(v,null,h(e.rooms,p=>(i(),u("option",{key:p,value:p},y(p),9,x))),128))],512),[[A,e.selectedRoom]])]),K,d(o,{messages:e.messages},null,8,["messages"]),d(c,{"with-value":!0,"button-name":"\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u9001\u4FE1",onOnSubmit:e.onMessage},null,8,["onOnSubmit"]),d(c,{"with-value":!1,"button-name":"\u73FE\u5728\u6642\u523B\u3092\u9001\u4FE1",onOnSubmit:e.onTime},null,8,["onOnSubmit"])],64)}var G=_(J,[["render",z],["__scopeId","data-v-aae3872e"]]),H="/assets/websocket.53e4842b.svg";const Q=m({components:{TransceiveContainer:G}}),k=e=>($("data-v-15e8bbd8"),e=e(),w(),e),X={class:"app"},Y=k(()=>l("img",{class:"icon",alt:"WebSocket Logo",src:H},null,-1)),Z=k(()=>l("h1",null,"WebSocket Client",-1));function ee(e,s,n,r,t,a){const o=g("transceive-container");return i(),u("div",X,[Y,Z,d(o)])}var te=_(Q,[["render",ee],["__scopeId","data-v-15e8bbd8"]]);I(te).mount("#app");
